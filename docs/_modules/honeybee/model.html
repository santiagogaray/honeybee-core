<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>honeybee.model &#8212; honeybee  documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          honeybee</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../honeybee.html">honeybee package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../honeybee.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.cli.html">honeybee.cli package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../honeybee.cli.html#submodules">Submodules</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../honeybee.cli.create.html">honeybee.cli.create module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../honeybee.cli.edit.html">honeybee.cli.edit module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../honeybee.cli.validate.html">honeybee.cli.validate module</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../honeybee.cli.html#module-honeybee.cli">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.writer.html">honeybee.writer package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../honeybee.writer.html#submodules">Submodules</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../honeybee.writer.aperture.html">honeybee.writer.aperture module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../honeybee.writer.door.html">honeybee.writer.door module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../honeybee.writer.face.html">honeybee.writer.face module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../honeybee.writer.model.html">honeybee.writer.model module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../honeybee.writer.room.html">honeybee.writer.room module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../honeybee.writer.shade.html">honeybee.writer.shade module</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../honeybee.writer.html#module-honeybee.writer">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../honeybee.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.altnumber.html">honeybee.altnumber module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.aperture.html">honeybee.aperture module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.boundarycondition.html">honeybee.boundarycondition module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.checkdup.html">honeybee.checkdup module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.colorobj.html">honeybee.colorobj module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.config.html">honeybee.config module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.dictutil.html">honeybee.dictutil module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.door.html">honeybee.door module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.extensionutil.html">honeybee.extensionutil module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.face.html">honeybee.face module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.facetype.html">honeybee.facetype module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.logutil.html">honeybee.logutil module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.model.html">honeybee.model module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.orientation.html">honeybee.orientation module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.properties.html">honeybee.properties module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.room.html">honeybee.room module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.search.html">honeybee.search module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.shade.html">honeybee.shade module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../honeybee.typing.html">honeybee.typing module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../honeybee.html#module-honeybee">Module contents</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../honeybee.html">honeybee package</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-4">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../honeybee.html">honeybee package</a></li>
</ul>

        </div>
      </div>
    <div class="body col-md-8 content" role="main">
      
  <h1>Source code for honeybee.model</h1><div class="highlight"><pre>
<span></span><span class="c1"># coding: utf-8</span>
<span class="sd">&quot;&quot;&quot;Honeybee Model.&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="kn">from</span> <span class="nn">._base</span> <span class="kn">import</span> <span class="n">_Base</span>
<span class="kn">from</span> <span class="nn">.checkdup</span> <span class="kn">import</span> <span class="n">check_duplicate_identifiers</span>
<span class="kn">from</span> <span class="nn">.properties</span> <span class="kn">import</span> <span class="n">ModelProperties</span>
<span class="kn">from</span> <span class="nn">.room</span> <span class="kn">import</span> <span class="n">Room</span>
<span class="kn">from</span> <span class="nn">.face</span> <span class="kn">import</span> <span class="n">Face</span>
<span class="kn">from</span> <span class="nn">.shade</span> <span class="kn">import</span> <span class="n">Shade</span>
<span class="kn">from</span> <span class="nn">.aperture</span> <span class="kn">import</span> <span class="n">Aperture</span>
<span class="kn">from</span> <span class="nn">.door</span> <span class="kn">import</span> <span class="n">Door</span>
<span class="kn">from</span> <span class="nn">.typing</span> <span class="kn">import</span> <span class="n">float_positive</span>
<span class="kn">from</span> <span class="nn">.config</span> <span class="kn">import</span> <span class="n">folders</span>
<span class="kn">from</span> <span class="nn">.boundarycondition</span> <span class="kn">import</span> <span class="n">Surface</span>
<span class="kn">from</span> <span class="nn">.facetype</span> <span class="kn">import</span> <span class="n">AirBoundary</span>
<span class="kn">import</span> <span class="nn">honeybee.writer.model</span> <span class="k">as</span> <span class="nn">writer</span>

<span class="kn">from</span> <span class="nn">ladybug_geometry.geometry3d.face</span> <span class="kn">import</span> <span class="n">Face3D</span>


<div class="viewcode-block" id="Model"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model">[docs]</a><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">_Base</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A collection of Rooms, Faces, Shades, Apertures, and Doors representing a model.</span>

<span class="sd">    Args:</span>
<span class="sd">        identifier: Text string for a unique Model ID. Must be &lt; 100 characters and</span>
<span class="sd">            not contain any spaces or special characters.</span>
<span class="sd">        rooms: A list of Room objects in the model.</span>
<span class="sd">        orphaned_faces: A list of the Face objects in the model that lack</span>
<span class="sd">            a parent Room. Note that orphaned Faces are not acceptable for</span>
<span class="sd">            Models that are to be exported for energy simulation.</span>
<span class="sd">        orphaned_shades: A list of the Shade objects in the model that lack</span>
<span class="sd">            a parent.</span>
<span class="sd">        orphaned_apertures: A list of the Aperture objects in the model that lack</span>
<span class="sd">            a parent Face. Note that orphaned Apertures are not acceptable for</span>
<span class="sd">            Models that are to be exported for energy simulation.</span>
<span class="sd">        orphaned_doors: A list of the Door objects in the model that lack</span>
<span class="sd">            a parent Face. Note that orphaned Doors are not acceptable for</span>
<span class="sd">            Models that are to be exported for energy simulation.</span>
<span class="sd">        units: Text for the units system in which the model geometry</span>
<span class="sd">            exists. Default: &#39;Meters&#39;. Choose from the following:</span>

<span class="sd">            * Meters</span>
<span class="sd">            * Millimeters</span>
<span class="sd">            * Feet</span>
<span class="sd">            * Inches</span>
<span class="sd">            * Centimeters</span>

<span class="sd">        tolerance: The maximum difference between x, y, and z values at which</span>
<span class="sd">            vertices are considered equivalent. Zero indicates that no tolerance</span>
<span class="sd">            checks should be performed. None indicates that the tolerance will be</span>
<span class="sd">            set based on the units above, with the tolerance consistently being</span>
<span class="sd">            between 1 cm and 1 mm (roughly the tolerance implicit in the OpenStudio</span>
<span class="sd">            SDK). (Default: None).</span>
<span class="sd">        angle_tolerance: The max angle difference in degrees that vertices are allowed</span>
<span class="sd">            to differ from one another in order to consider them colinear. Zero indicates</span>
<span class="sd">            that no angle tolerance checks should be performed. (Default: 1.0).</span>

<span class="sd">    Properties:</span>
<span class="sd">        * identifier</span>
<span class="sd">        * display_name</span>
<span class="sd">        * units</span>
<span class="sd">        * tolerance</span>
<span class="sd">        * angle_tolerance</span>
<span class="sd">        * rooms</span>
<span class="sd">        * faces</span>
<span class="sd">        * apertures</span>
<span class="sd">        * doors</span>
<span class="sd">        * shades</span>
<span class="sd">        * indoor_shades</span>
<span class="sd">        * outdoor_shades</span>
<span class="sd">        * orphaned_faces</span>
<span class="sd">        * orphaned_shades</span>
<span class="sd">        * orphaned_apertures</span>
<span class="sd">        * orphaned_doors</span>
<span class="sd">        * stories</span>
<span class="sd">        * volume</span>
<span class="sd">        * floor_area</span>
<span class="sd">        * exposed_area</span>
<span class="sd">        * exterior_wall_area</span>
<span class="sd">        * exterior_roof_area</span>
<span class="sd">        * exterior_aperture_area</span>
<span class="sd">        * exterior_wall_aperture_area</span>
<span class="sd">        * exterior_skylight_aperture_area</span>
<span class="sd">        * user_data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;_rooms&#39;</span><span class="p">,</span> <span class="s1">&#39;_orphaned_faces&#39;</span><span class="p">,</span> <span class="s1">&#39;_orphaned_shades&#39;</span><span class="p">,</span> <span class="s1">&#39;_orphaned_apertures&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_orphaned_doors&#39;</span><span class="p">,</span> <span class="s1">&#39;_units&#39;</span><span class="p">,</span> <span class="s1">&#39;_tolerance&#39;</span><span class="p">,</span> <span class="s1">&#39;_angle_tolerance&#39;</span><span class="p">)</span>

    <span class="n">UNITS</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Meters&#39;</span><span class="p">,</span> <span class="s1">&#39;Millimeters&#39;</span><span class="p">,</span> <span class="s1">&#39;Feet&#39;</span><span class="p">,</span> <span class="s1">&#39;Inches&#39;</span><span class="p">,</span> <span class="s1">&#39;Centimeters&#39;</span><span class="p">)</span>
    <span class="n">UNITS_TOLERANCES</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Meters&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span> <span class="s1">&#39;Millimeters&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;Feet&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
                        <span class="s1">&#39;Inches&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;Centimeters&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">}</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="p">,</span> <span class="n">rooms</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orphaned_faces</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orphaned_shades</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">orphaned_apertures</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orphaned_doors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">units</span><span class="o">=</span><span class="s1">&#39;Meters&#39;</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;A collection of Rooms, Faces, Apertures, and Doors for an entire model.&quot;&quot;&quot;</span>
        <span class="n">_Base</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="p">)</span>  <span class="c1"># process the identifier</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="n">units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">=</span> <span class="n">tolerance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span> <span class="o">=</span> <span class="n">angle_tolerance</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">rooms</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">rooms</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_room</span><span class="p">(</span><span class="n">room</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">orphaned_faces</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">orphaned_faces</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_face</span><span class="p">(</span><span class="n">face</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">orphaned_shades</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="n">orphaned_shades</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_shade</span><span class="p">(</span><span class="n">shade</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">orphaned_apertures</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">aperture</span> <span class="ow">in</span> <span class="n">orphaned_apertures</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_aperture</span><span class="p">(</span><span class="n">aperture</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">orphaned_doors</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">door</span> <span class="ow">in</span> <span class="n">orphaned_doors</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_door</span><span class="p">(</span><span class="n">door</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span> <span class="o">=</span> <span class="n">ModelProperties</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="Model.from_dict"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.from_dict">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize a Model from a dictionary.</span>

<span class="sd">        Args:</span>
<span class="sd">            data: A dictionary representation of a Model object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check the type of dictionary</span>
        <span class="k">assert</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="s1">&#39;Expected Model dictionary. &#39;</span> \
            <span class="s1">&#39;Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">])</span>

        <span class="c1"># import the tolerance values</span>
        <span class="n">tol</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="s1">&#39;tolerance&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span> <span class="k">else</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;tolerance&#39;</span><span class="p">]</span>
        <span class="n">angle_tol</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="s1">&#39;angle_tolerance&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span> <span class="k">else</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;angle_tolerance&#39;</span><span class="p">]</span>

        <span class="c1"># import all of the geometry</span>
        <span class="n">rooms</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># import rooms</span>
        <span class="k">if</span> <span class="s1">&#39;rooms&#39;</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;rooms&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">rooms</span> <span class="o">=</span> <span class="p">[</span><span class="n">Room</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">angle_tol</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;rooms&#39;</span><span class="p">]]</span>
        <span class="n">orphaned_faces</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># import orphaned faces</span>
        <span class="k">if</span> <span class="s1">&#39;orphaned_faces&#39;</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;orphaned_faces&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">orphaned_faces</span> <span class="o">=</span> <span class="p">[</span><span class="n">Face</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;orphaned_faces&#39;</span><span class="p">]]</span>
        <span class="n">orphaned_shades</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># import orphaned shades</span>
        <span class="k">if</span> <span class="s1">&#39;orphaned_shades&#39;</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;orphaned_shades&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">orphaned_shades</span> <span class="o">=</span> <span class="p">[</span><span class="n">Shade</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;orphaned_shades&#39;</span><span class="p">]]</span>
        <span class="n">orphaned_apertures</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># import orphaned apertures</span>
        <span class="k">if</span> <span class="s1">&#39;orphaned_apertures&#39;</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;orphaned_apertures&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">orphaned_apertures</span> <span class="o">=</span> <span class="p">[</span><span class="n">Aperture</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span>
                                  <span class="n">a</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;orphaned_apertures&#39;</span><span class="p">]]</span>
        <span class="n">orphaned_doors</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># import orphaned doors</span>
        <span class="k">if</span> <span class="s1">&#39;orphaned_doors&#39;</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;orphaned_doors&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">orphaned_doors</span> <span class="o">=</span> <span class="p">[</span><span class="n">Door</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;orphaned_doors&#39;</span><span class="p">]]</span>

        <span class="c1"># import the units</span>
        <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;Meters&#39;</span> <span class="k">if</span> <span class="s1">&#39;units&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span> <span class="k">else</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span>

        <span class="c1"># build the model object</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">],</span> <span class="n">rooms</span><span class="p">,</span> <span class="n">orphaned_faces</span><span class="p">,</span> <span class="n">orphaned_shades</span><span class="p">,</span>
                      <span class="n">orphaned_apertures</span><span class="p">,</span> <span class="n">orphaned_doors</span><span class="p">,</span> <span class="n">units</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">angle_tol</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;display_name&#39;</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;display_name&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model</span><span class="o">.</span><span class="n">display_name</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;display_name&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;user_data&#39;</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;user_data&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model</span><span class="o">.</span><span class="n">user_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;user_data&#39;</span><span class="p">]</span>

        <span class="c1"># assign extension properties to the model</span>
        <span class="n">model</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">apply_properties_from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">model</span></div>

<div class="viewcode-block" id="Model.from_hbjson"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.from_hbjson">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_hbjson</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">hbjson_file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize a Model from a HBJSON model file.</span>

<span class="sd">        Args:</span>
<span class="sd">            hbjson_file: Path to HBJSON file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">hbjson_file</span><span class="p">),</span> <span class="s1">&#39;Failed to find </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">hbjson_file</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">hbjson_file</span><span class="p">)</span> <span class="k">as</span> <span class="n">inf</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">inf</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.from_objects"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.from_objects">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_objects</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">identifier</span><span class="p">,</span> <span class="n">objects</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;Meters&#39;</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">angle_tolerance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize a Model from a list of any type of honeybee-core geometry objects.</span>

<span class="sd">        Args:</span>
<span class="sd">            identifier: Text string for a unique Model ID. Must be &lt; 100 characters and</span>
<span class="sd">                not contain any spaces or special characters.</span>
<span class="sd">            objects: A list of honeybee Rooms, Faces, Shades, Apertures and Doors.</span>
<span class="sd">            units: Text for the units system in which the model geometry</span>
<span class="sd">                exists. Default: &#39;Meters&#39;. Choose from the following:</span>

<span class="sd">                * Meters</span>
<span class="sd">                * Millimeters</span>
<span class="sd">                * Feet</span>
<span class="sd">                * Inches</span>
<span class="sd">                * Centimeters</span>

<span class="sd">            tolerance: The maximum difference between x, y, and z values at which</span>
<span class="sd">                vertices are considered equivalent. Zero indicates that no tolerance</span>
<span class="sd">                checks should be performed. Default: 0.</span>
<span class="sd">            angle_tolerance: The max angle difference in degrees that vertices are</span>
<span class="sd">                allowed to differ from one another in order to consider them colinear.</span>
<span class="sd">                Zero indicates that no angle tolerance checks should be performed.</span>
<span class="sd">                Default: 0.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rooms</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">faces</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">shades</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">apertures</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">doors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Room</span><span class="p">):</span>
                <span class="n">rooms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Face</span><span class="p">):</span>
                <span class="n">faces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Shade</span><span class="p">):</span>
                <span class="n">shades</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Aperture</span><span class="p">):</span>
                <span class="n">apertures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Door</span><span class="p">):</span>
                <span class="n">doors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Expected Room, Face, Shade, Aperture or Door &#39;</span>
                                <span class="s1">&#39;for Model. Got </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)))</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">identifier</span><span class="p">,</span> <span class="n">rooms</span><span class="p">,</span> <span class="n">faces</span><span class="p">,</span> <span class="n">shades</span><span class="p">,</span> <span class="n">apertures</span><span class="p">,</span> <span class="n">doors</span><span class="p">,</span> <span class="n">units</span><span class="p">,</span>
                   <span class="n">tolerance</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set Text for the units system in which the model geometry exists.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_units</span>

    <span class="nd">@units</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">units</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">assert</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">UNITS</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> is not supported as a units system. &#39;</span> \
            <span class="s1">&#39;Choose from the following: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_units</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tolerance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set a number for the max meaningful difference between x, y, z values.</span>

<span class="sd">        This value should be in the Model&#39;s units. Zero indicates cases</span>
<span class="sd">        where no tolerance checks should be performed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tolerance</span>

    <span class="nd">@tolerance</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">tolerance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tolerance</span> <span class="o">=</span> <span class="n">float_positive</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s1">&#39;model tolerance&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> \
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">UNITS_TOLERANCES</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">angle_tolerance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or set a number for the max meaningful angle difference in degrees.</span>

<span class="sd">        Face3D normal vectors differing by this amount are not considered parallel</span>
<span class="sd">        and Face3D segments that differ from 180 by this amount are not considered</span>
<span class="sd">        colinear. Zero indicates cases where no angle_tolerance checks should be</span>
<span class="sd">        performed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_angle_tolerance</span>

    <span class="nd">@angle_tolerance</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">angle_tolerance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_angle_tolerance</span> <span class="o">=</span> <span class="n">float_positive</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s1">&#39;model angle_tolerance&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">rooms</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of all Room objects in the model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">faces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of all Face objects in the model.&quot;&quot;&quot;</span>
        <span class="n">child_faces</span> <span class="o">=</span> <span class="p">[</span><span class="n">face</span> <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span> <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">_faces</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">child_faces</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">apertures</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of all Aperture objects in the model.&quot;&quot;&quot;</span>
        <span class="n">child_apertures</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">_faces</span><span class="p">:</span>
                <span class="n">child_apertures</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">_apertures</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">child_apertures</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">_apertures</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">child_apertures</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">doors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of all Door objects in the model.&quot;&quot;&quot;</span>
        <span class="n">child_doors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">_faces</span><span class="p">:</span>
                <span class="n">child_doors</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">_doors</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">child_doors</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">_doors</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">child_doors</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">shades</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of all Shade objects in the model.&quot;&quot;&quot;</span>
        <span class="n">child_shades</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">shades</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
                <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">shades</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">_apertures</span><span class="p">:</span>
                    <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">shades</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">_doors</span><span class="p">:</span>
                    <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">dr</span><span class="o">.</span><span class="n">shades</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">shades</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">_apertures</span><span class="p">:</span>
                <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">shades</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">_doors</span><span class="p">:</span>
                <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">dr</span><span class="o">.</span><span class="n">shades</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">:</span>
            <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">shades</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">:</span>
            <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">dr</span><span class="o">.</span><span class="n">shades</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">child_shades</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">indoor_shades</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of all indoor Shade objects in the model.&quot;&quot;&quot;</span>
        <span class="n">child_shades</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">_indoor_shades</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
                <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">_indoor_shades</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">_apertures</span><span class="p">:</span>
                    <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">_indoor_shades</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">_doors</span><span class="p">:</span>
                    <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">dr</span><span class="o">.</span><span class="n">_indoor_shades</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">_indoor_shades</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">_apertures</span><span class="p">:</span>
                <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">_indoor_shades</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">_doors</span><span class="p">:</span>
                <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">dr</span><span class="o">.</span><span class="n">_indoor_shades</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">:</span>
            <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">_indoor_shades</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">:</span>
            <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">dr</span><span class="o">.</span><span class="n">_indoor_shades</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">child_shades</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">outdoor_shades</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of all outdoor Shade objects in the model.</span>

<span class="sd">        This includes all of the orphaned_shades.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">child_shades</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">_outdoor_shades</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
                <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">_outdoor_shades</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">_apertures</span><span class="p">:</span>
                    <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">_outdoor_shades</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">_doors</span><span class="p">:</span>
                    <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">dr</span><span class="o">.</span><span class="n">_outdoor_shades</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">_outdoor_shades</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">_apertures</span><span class="p">:</span>
                <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">_outdoor_shades</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">_doors</span><span class="p">:</span>
                <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">dr</span><span class="o">.</span><span class="n">_outdoor_shades</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">:</span>
            <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">_outdoor_shades</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">:</span>
            <span class="n">child_shades</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">dr</span><span class="o">.</span><span class="n">_outdoor_shades</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">child_shades</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">orphaned_faces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of all Face objects without parent Rooms in the model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">orphaned_apertures</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of all Aperture objects without parent Faces in the model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">orphaned_doors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of all Door objects without parent Faces in the model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">orphaned_shades</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of all Shade objects without parent Rooms in the model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">stories</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of text for each unique story identifier in the Model.</span>

<span class="sd">        Note that this will be an empty list if the model has to rooms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_stories</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">story</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">_stories</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">story</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">_stories</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">volume</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the combined volume of all rooms in the Model.</span>

<span class="sd">        Note that, if this model&#39;s rooms are not closed solids, the value of this</span>
<span class="sd">        property will not be accurate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">room</span><span class="o">.</span><span class="n">volume</span> <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">floor_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the combined area of all room floor faces in the Model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">room</span><span class="o">.</span><span class="n">floor_area</span> <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">exposed_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the combined area of all room faces with outdoor boundary conditions.</span>

<span class="sd">        Useful for estimating infiltration, often expressed as a flow per</span>
<span class="sd">        unit exposed envelope area.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">room</span><span class="o">.</span><span class="n">exposed_area</span> <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">exterior_wall_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the combined area of all exterior walls on the model&#39;s rooms.</span>

<span class="sd">        This is NOT the area of the wall&#39;s punched_geometry and it includes BOTH</span>
<span class="sd">        the area of opaque and transparent parts of the walls.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">room</span><span class="o">.</span><span class="n">exterior_wall_area</span> <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">exterior_roof_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the combined area of all exterior roofs on the model&#39;s rooms.</span>

<span class="sd">        This is NOT the area of the roof&#39;s punched_geometry and it includes BOTH</span>
<span class="sd">        the area of opaque and transparent parts of the roofs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">room</span><span class="o">.</span><span class="n">exterior_roof_area</span> <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">exterior_aperture_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the combined area of all exterior apertures on the model&#39;s rooms.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">room</span><span class="o">.</span><span class="n">exterior_aperture_area</span> <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">exterior_wall_aperture_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the combined area of all apertures on exterior walls of the model&#39;s rooms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">room</span><span class="o">.</span><span class="n">exterior_wall_aperture_area</span> <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">exterior_skylight_aperture_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the combined area of all apertures on exterior roofs of the model&#39;s rooms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">room</span><span class="o">.</span><span class="n">exterior_skylight_aperture_area</span> <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">])</span>

<div class="viewcode-block" id="Model.add_model"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.add_model">[docs]</a>    <span class="k">def</span> <span class="nf">add_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_model</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add another Model object to this model.&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other_model</span><span class="p">,</span> <span class="n">Model</span><span class="p">),</span> \
            <span class="s1">&#39;Expected Model. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">other_model</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">other_model</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">room</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">other_model</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="n">other_model</span><span class="o">.</span><span class="n">_orphaned_shades</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">shade</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">aperture</span> <span class="ow">in</span> <span class="n">other_model</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aperture</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">door</span> <span class="ow">in</span> <span class="n">other_model</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">door</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.add_room"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.add_room">[docs]</a>    <span class="k">def</span> <span class="nf">add_room</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add a Room object to the model.&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Room</span><span class="p">),</span> <span class="s1">&#39;Expected Room. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.add_face"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.add_face">[docs]</a>    <span class="k">def</span> <span class="nf">add_face</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add an orphaned Face object without a parent to the model.&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Face</span><span class="p">),</span> <span class="s1">&#39;Expected Face. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
        <span class="k">assert</span> <span class="ow">not</span> <span class="n">obj</span><span class="o">.</span><span class="n">has_parent</span><span class="p">,</span> <span class="s1">&#39;Face &quot;</span><span class="si">{}</span><span class="s1">&quot;&quot; has a parent Room. Add the Room to &#39;</span>\
            <span class="s1">&#39;the model instead of the Face.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">display_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.add_aperture"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.add_aperture">[docs]</a>    <span class="k">def</span> <span class="nf">add_aperture</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add an orphaned Aperture object to the model.&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Aperture</span><span class="p">),</span> <span class="s1">&#39;Expected Aperture. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
        <span class="k">assert</span> <span class="ow">not</span> <span class="n">obj</span><span class="o">.</span><span class="n">has_parent</span><span class="p">,</span> <span class="s1">&#39;Aperture &quot;</span><span class="si">{}</span><span class="s1">&quot;&quot; has a parent Face. Add the Face to &#39;</span>\
            <span class="s1">&#39;the model instead of the Aperture.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">display_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.add_door"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.add_door">[docs]</a>    <span class="k">def</span> <span class="nf">add_door</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add an orphaned Door object to the model.&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Door</span><span class="p">),</span> <span class="s1">&#39;Expected Door. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
        <span class="k">assert</span> <span class="ow">not</span> <span class="n">obj</span><span class="o">.</span><span class="n">has_parent</span><span class="p">,</span> <span class="s1">&#39;Door &quot;</span><span class="si">{}</span><span class="s1">&quot;&quot; has a parent Face. Add the Face to &#39;</span>\
            <span class="s1">&#39;the model instead of the Door.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">display_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.add_shade"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.add_shade">[docs]</a>    <span class="k">def</span> <span class="nf">add_shade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add an orphaned Shade object to the model, typically representing context.&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Shade</span><span class="p">),</span> <span class="s1">&#39;Expected Shade. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
        <span class="k">assert</span> <span class="ow">not</span> <span class="n">obj</span><span class="o">.</span><span class="n">has_parent</span><span class="p">,</span> <span class="s1">&#39;Shade &quot;</span><span class="si">{}</span><span class="s1">&quot;&quot; has a parent object. Add the object to &#39;</span>\
            <span class="s1">&#39;the model instead of the Shade.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">display_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.remove_rooms"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.remove_rooms">[docs]</a>    <span class="k">def</span> <span class="nf">remove_rooms</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all Rooms from the model.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="Model.remove_faces"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.remove_faces">[docs]</a>    <span class="k">def</span> <span class="nf">remove_faces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all orphaned Faces from the model.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="Model.remove_apertures"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.remove_apertures">[docs]</a>    <span class="k">def</span> <span class="nf">remove_apertures</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all orphaned Apertures from the model.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="Model.remove_doors"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.remove_doors">[docs]</a>    <span class="k">def</span> <span class="nf">remove_doors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all orphaned Doors from the model.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="Model.remove_shades"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.remove_shades">[docs]</a>    <span class="k">def</span> <span class="nf">remove_shades</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all orphaned Shades from the model, typically representing context.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="Model.remove_assigned_apertures"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.remove_assigned_apertures">[docs]</a>    <span class="k">def</span> <span class="nf">remove_assigned_apertures</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all Apertures assigned to the model&#39;s Faces.</span>

<span class="sd">        This includes nested apertures like those assigned to Faces with parent Rooms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
                <span class="n">face</span><span class="o">.</span><span class="n">remove_apertures</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">face</span><span class="o">.</span><span class="n">remove_apertures</span><span class="p">()</span></div>

<div class="viewcode-block" id="Model.remove_assigned_doors"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.remove_assigned_doors">[docs]</a>    <span class="k">def</span> <span class="nf">remove_assigned_doors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all Doors assigned to the model&#39;s Faces.</span>

<span class="sd">        This includes nested doors like those assigned to Faces with parent Rooms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
                <span class="n">face</span><span class="o">.</span><span class="n">remove_doors</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">face</span><span class="o">.</span><span class="n">remove_doors</span><span class="p">()</span></div>

<div class="viewcode-block" id="Model.remove_assigned_shades"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.remove_assigned_shades">[docs]</a>    <span class="k">def</span> <span class="nf">remove_assigned_shades</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all Shades assigned to the model&#39;s Rooms, Faces, Apertures and Doors.</span>

<span class="sd">        This includes nested shades like those assigned to Apertures with parent</span>
<span class="sd">        Faces that have parent Rooms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="n">room</span><span class="o">.</span><span class="n">remove_shades</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
                <span class="n">face</span><span class="o">.</span><span class="n">remove_shades</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">apertures</span><span class="p">:</span>
                    <span class="n">ap</span><span class="o">.</span><span class="n">remove_shades</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">doors</span><span class="p">:</span>
                    <span class="n">dr</span><span class="o">.</span><span class="n">remove_shades</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">face</span><span class="o">.</span><span class="n">remove_shades</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">apertures</span><span class="p">:</span>
                <span class="n">ap</span><span class="o">.</span><span class="n">remove_shades</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">doors</span><span class="p">:</span>
                <span class="n">dr</span><span class="o">.</span><span class="n">remove_shades</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">aperture</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">:</span>
            <span class="n">aperture</span><span class="o">.</span><span class="n">remove_shades</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">door</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">:</span>
            <span class="n">door</span><span class="o">.</span><span class="n">remove_shades</span><span class="p">()</span></div>

<div class="viewcode-block" id="Model.remove_all_apertures"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.remove_all_apertures">[docs]</a>    <span class="k">def</span> <span class="nf">remove_all_apertures</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all Apertures from the model.</span>

<span class="sd">        This includes assigned apertures as well as orphaned apertures.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_apertures</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_assigned_apertures</span><span class="p">()</span></div>

<div class="viewcode-block" id="Model.remove_all_doors"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.remove_all_doors">[docs]</a>    <span class="k">def</span> <span class="nf">remove_all_doors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all Doors from the model.</span>

<span class="sd">        This includes assigned doors as well as orphaned doors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_doors</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_assigned_doors</span><span class="p">()</span></div>

<div class="viewcode-block" id="Model.remove_all_shades"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.remove_all_shades">[docs]</a>    <span class="k">def</span> <span class="nf">remove_all_shades</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all Shades from the model.</span>

<span class="sd">        This includes assigned shades as well as orphaned shades.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_shades</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_assigned_shades</span><span class="p">()</span></div>

<div class="viewcode-block" id="Model.rooms_by_identifier"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.rooms_by_identifier">[docs]</a>    <span class="k">def</span> <span class="nf">rooms_by_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifiers</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of Room objects in the model given the Room identifiers.&quot;&quot;&quot;</span>
        <span class="n">rooms</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">model_rooms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span>
        <span class="k">for</span> <span class="n">obj_id</span> <span class="ow">in</span> <span class="n">identifiers</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">model_rooms</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">obj_id</span><span class="p">:</span>
                    <span class="n">rooms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">room</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Room &quot;</span><span class="si">{}</span><span class="s1">&quot; was not found in the model.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">rooms</span></div>

<div class="viewcode-block" id="Model.faces_by_identifier"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.faces_by_identifier">[docs]</a>    <span class="k">def</span> <span class="nf">faces_by_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifiers</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of Face objects in the model given the Face identifiers.&quot;&quot;&quot;</span>
        <span class="n">faces</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">model_faces</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">faces</span>
        <span class="k">for</span> <span class="n">obj_id</span> <span class="ow">in</span> <span class="n">identifiers</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">model_faces</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">face</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">obj_id</span><span class="p">:</span>
                    <span class="n">faces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Face &quot;</span><span class="si">{}</span><span class="s1">&quot; was not found in the model.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">faces</span></div>

<div class="viewcode-block" id="Model.apertures_by_identifier"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.apertures_by_identifier">[docs]</a>    <span class="k">def</span> <span class="nf">apertures_by_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifiers</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of Aperture objects in the model given the Aperture identifiers.&quot;&quot;&quot;</span>
        <span class="n">apertures</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">model_apertures</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apertures</span>
        <span class="k">for</span> <span class="n">obj_id</span> <span class="ow">in</span> <span class="n">identifiers</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">aperture</span> <span class="ow">in</span> <span class="n">model_apertures</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">aperture</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">obj_id</span><span class="p">:</span>
                    <span class="n">apertures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aperture</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s1">&#39;Aperture &quot;</span><span class="si">{}</span><span class="s1">&quot; was not found in the model.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">apertures</span></div>

<div class="viewcode-block" id="Model.doors_by_identifier"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.doors_by_identifier">[docs]</a>    <span class="k">def</span> <span class="nf">doors_by_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifiers</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of Door objects in the model given the Door identifiers.&quot;&quot;&quot;</span>
        <span class="n">doors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">model_doors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">doors</span>
        <span class="k">for</span> <span class="n">obj_id</span> <span class="ow">in</span> <span class="n">identifiers</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">door</span> <span class="ow">in</span> <span class="n">model_doors</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">door</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">obj_id</span><span class="p">:</span>
                    <span class="n">doors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">door</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Door &quot;</span><span class="si">{}</span><span class="s1">&quot; was not found in the model.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">doors</span></div>

<div class="viewcode-block" id="Model.shades_by_identifier"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.shades_by_identifier">[docs]</a>    <span class="k">def</span> <span class="nf">shades_by_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifiers</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a list of Shade objects in the model given the Shade identifiers.&quot;&quot;&quot;</span>
        <span class="n">shades</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">model_shades</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shades</span>
        <span class="k">for</span> <span class="n">obj_id</span> <span class="ow">in</span> <span class="n">identifiers</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">model_shades</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">face</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">obj_id</span><span class="p">:</span>
                    <span class="n">shades</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Shade &quot;</span><span class="si">{}</span><span class="s1">&quot; was not found in the model.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">shades</span></div>

<div class="viewcode-block" id="Model.add_prefix"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.add_prefix">[docs]</a>    <span class="k">def</span> <span class="nf">add_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Change the identifier of this object and child objects by inserting a prefix.</span>

<span class="sd">        This is particularly useful in workflows where you duplicate and edit</span>
<span class="sd">        a starting object and then want to combine it with the original object</span>
<span class="sd">        since all objects within a Model must have unique identifiers.</span>

<span class="sd">        Args:</span>
<span class="sd">            prefix: Text that will be inserted at the start of this object&#39;s</span>
<span class="sd">                (and child objects&#39;) identifier and display_name. It is recommended</span>
<span class="sd">                that this prefix be short to avoid maxing out the 100 allowable</span>
<span class="sd">                characters for honeybee identifiers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="n">room</span><span class="o">.</span><span class="n">add_prefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">face</span><span class="o">.</span><span class="n">add_prefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span><span class="p">:</span>
            <span class="n">shade</span><span class="o">.</span><span class="n">add_prefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">aperture</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">:</span>
            <span class="n">aperture</span><span class="o">.</span><span class="n">add_prefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">door</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">:</span>
            <span class="n">door</span><span class="o">.</span><span class="n">add_prefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.move"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.move">[docs]</a>    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">moving_vec</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Move this Model along a vector.</span>

<span class="sd">        Args:</span>
<span class="sd">            moving_vec: A ladybug_geometry Vector3D with the direction and distance</span>
<span class="sd">                to move the Model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="n">room</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">moving_vec</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">face</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">moving_vec</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span><span class="p">:</span>
            <span class="n">shade</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">moving_vec</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">aperture</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">:</span>
            <span class="n">aperture</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">moving_vec</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">door</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">:</span>
            <span class="n">door</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">moving_vec</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">moving_vec</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.rotate"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.rotate">[docs]</a>    <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rotate this Model by a certain angle around an axis and origin.</span>

<span class="sd">        Args:</span>
<span class="sd">            axis: A ladybug_geometry Vector3D axis representing the axis of rotation.</span>
<span class="sd">            angle: An angle for rotation in degrees.</span>
<span class="sd">            origin: A ladybug_geometry Point3D for the origin around which the</span>
<span class="sd">                object will be rotated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="n">room</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">face</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span><span class="p">:</span>
            <span class="n">shade</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">aperture</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">:</span>
            <span class="n">aperture</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">door</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">:</span>
            <span class="n">door</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.rotate_xy"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.rotate_xy">[docs]</a>    <span class="k">def</span> <span class="nf">rotate_xy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rotate this Model counterclockwise in the world XY plane by a certain angle.</span>

<span class="sd">        Args:</span>
<span class="sd">            angle: An angle in degrees.</span>
<span class="sd">            origin: A ladybug_geometry Point3D for the origin around which the</span>
<span class="sd">                object will be rotated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="n">room</span><span class="o">.</span><span class="n">rotate_xy</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">face</span><span class="o">.</span><span class="n">rotate_xy</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span><span class="p">:</span>
            <span class="n">shade</span><span class="o">.</span><span class="n">rotate_xy</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">aperture</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">:</span>
            <span class="n">aperture</span><span class="o">.</span><span class="n">rotate_xy</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">door</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">:</span>
            <span class="n">door</span><span class="o">.</span><span class="n">rotate_xy</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">rotate_xy</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.reflect"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.reflect">[docs]</a>    <span class="k">def</span> <span class="nf">reflect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plane</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Reflect this Model across a plane with the input normal vector and origin.</span>

<span class="sd">        Args:</span>
<span class="sd">            plane: A ladybug_geometry Plane across which the object will</span>
<span class="sd">                be reflected.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="n">room</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="n">plane</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">face</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="n">plane</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span><span class="p">:</span>
            <span class="n">shade</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="n">plane</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">aperture</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">:</span>
            <span class="n">aperture</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="n">plane</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">door</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">:</span>
            <span class="n">door</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="n">plane</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="n">plane</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.scale"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.scale">[docs]</a>    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Scale this Model by a factor from an origin point.</span>

<span class="sd">        Note that using this method does NOT scale the model tolerance and, if</span>
<span class="sd">        it is desired that this tolerance be scaled with the model geometry,</span>
<span class="sd">        it must be scaled separately.</span>

<span class="sd">        Args:</span>
<span class="sd">            factor: A number representing how much the object should be scaled.</span>
<span class="sd">            origin: A ladybug_geometry Point3D representing the origin from which</span>
<span class="sd">                to scale. If None, it will be scaled from the World origin (0, 0, 0).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="n">room</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="n">face</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span><span class="p">:</span>
            <span class="n">shade</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">aperture</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">:</span>
            <span class="n">aperture</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">door</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">:</span>
            <span class="n">door</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.wall_apertures_by_ratio"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.wall_apertures_by_ratio">[docs]</a>    <span class="k">def</span> <span class="nf">wall_apertures_by_ratio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ratio</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add apertures to all exterior walls given a ratio of aperture to face area.</span>

<span class="sd">        Note this method only affects the Models rooms (no orphaned faces) and it</span>
<span class="sd">        removes any existing apertures and doors on the room&#39;s exterior walls.</span>
<span class="sd">        This method attempts to generate as few apertures as necessary to meet the ratio.</span>

<span class="sd">        Args:</span>
<span class="sd">            ratio: A number between 0 and 1 (but not perfectly equal to 1)</span>
<span class="sd">                for the desired ratio between aperture area and face area.</span>
<span class="sd">            tolerance: The maximum difference between point values for them to be</span>
<span class="sd">                considered a part of a rectangle. This is used in the event that</span>
<span class="sd">                this face is concave and an attempt to subdivide the face into a</span>
<span class="sd">                rectangle is made. It does not affect the ability to produce apertures</span>
<span class="sd">                for convex Faces. Default: 0.01, suitable for objects in meters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="n">room</span><span class="o">.</span><span class="n">wall_apertures_by_ratio</span><span class="p">(</span><span class="n">ratio</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.skylight_apertures_by_ratio"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.skylight_apertures_by_ratio">[docs]</a>    <span class="k">def</span> <span class="nf">skylight_apertures_by_ratio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ratio</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add apertures to all exterior roofs given a ratio of aperture to face area.</span>

<span class="sd">        Note this method only affects the Models rooms (no orphaned faces) and</span>
<span class="sd">        removes any existing apertures and overhead doors on the Room&#39;s roofs.</span>
<span class="sd">        This method attempts to generate as few apertures as necessary to meet the ratio.</span>

<span class="sd">        Args:</span>
<span class="sd">            ratio: A number between 0 and 1 (but not perfectly equal to 1)</span>
<span class="sd">                for the desired ratio between aperture area and face area.</span>
<span class="sd">            tolerance: The maximum difference between point values for them to be</span>
<span class="sd">                considered a part of a rectangle. This is used in the event that</span>
<span class="sd">                this face is concave and an attempt to subdivide the face into a</span>
<span class="sd">                rectangle is made. It does not affect the ability to produce apertures</span>
<span class="sd">                for convex Faces. Default: 0.01, suitable for objects in meters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="n">room</span><span class="o">.</span><span class="n">skylight_apertures_by_ratio</span><span class="p">(</span><span class="n">ratio</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.assign_stories_by_floor_height"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.assign_stories_by_floor_height">[docs]</a>    <span class="k">def</span> <span class="nf">assign_stories_by_floor_height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_difference</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Assign story properties to the rooms of this Model using their floor heights.</span>

<span class="sd">        Stories will be named with a standard convention (&#39;Floor1&#39;, &#39;Floor2&#39;, etc.).</span>

<span class="sd">        Args:</span>
<span class="sd">            min_difference: An float value to denote the minimum difference</span>
<span class="sd">                in floor heights that is considered meaningful. This can be used</span>
<span class="sd">                to ensure rooms like those representing stair landings are grouped</span>
<span class="sd">                with floors. Default: 2.0, which means that any difference in</span>
<span class="sd">                floor heights less than 2.0 will be considered a part of the</span>
<span class="sd">                same story. This assumption is suitable for models in meters.</span>
<span class="sd">            overwrite: If True, all story properties of this model&#39;s rooms will</span>
<span class="sd">                be overwritten by this method. If False, this method will only</span>
<span class="sd">                assign stories to Rooms that do not already have a story identifier</span>
<span class="sd">                already assigned to them. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of the unique story names that were assigned to the input rooms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">overwrite</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
                <span class="n">room</span><span class="o">.</span><span class="n">story</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">Room</span><span class="o">.</span><span class="n">stories_by_floor_height</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">,</span> <span class="n">min_difference</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.convert_to_units"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.convert_to_units">[docs]</a>    <span class="k">def</span> <span class="nf">convert_to_units</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;Meters&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert all of the geometry in this model to certain units.</span>

<span class="sd">        This involves scaling the geometry, scaling the Model tolerance, and</span>
<span class="sd">        changing the Model&#39;s units property.</span>

<span class="sd">        Args:</span>
<span class="sd">            units: Text for the units to which the Model geometry should be</span>
<span class="sd">                converted. Default: Meters. Choose from the following:</span>

<span class="sd">                * Meters</span>
<span class="sd">                * Millimeters</span>
<span class="sd">                * Feet</span>
<span class="sd">                * Inches</span>
<span class="sd">                * Centimeters</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">!=</span> <span class="n">units</span><span class="p">:</span>
            <span class="n">scale_fac1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conversion_factor_to_meters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
            <span class="n">scale_fac2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conversion_factor_to_meters</span><span class="p">(</span><span class="n">units</span><span class="p">)</span>
            <span class="n">scale_fac</span> <span class="o">=</span> <span class="n">scale_fac1</span> <span class="o">/</span> <span class="n">scale_fac2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scale_fac</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">*</span> <span class="n">scale_fac</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="n">units</span></div>

<div class="viewcode-block" id="Model.check_duplicate_room_identifiers"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.check_duplicate_room_identifiers">[docs]</a>    <span class="k">def</span> <span class="nf">check_duplicate_room_identifiers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check that there are no duplicate Room identifiers in the model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">check_duplicate_identifiers</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">,</span> <span class="s1">&#39;Room&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.check_duplicate_face_identifiers"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.check_duplicate_face_identifiers">[docs]</a>    <span class="k">def</span> <span class="nf">check_duplicate_face_identifiers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check that there are no duplicate Face identifiers in the model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">check_duplicate_identifiers</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">faces</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">,</span> <span class="s1">&#39;Face&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.check_duplicate_shade_identifiers"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.check_duplicate_shade_identifiers">[docs]</a>    <span class="k">def</span> <span class="nf">check_duplicate_shade_identifiers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check that there are no duplicate Shade identifiers in the model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">check_duplicate_identifiers</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shades</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">,</span> <span class="s1">&#39;Shade&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.check_duplicate_sub_face_identifiers"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.check_duplicate_sub_face_identifiers">[docs]</a>    <span class="k">def</span> <span class="nf">check_duplicate_sub_face_identifiers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check that there are no duplicate sub-face identifiers in the model.</span>

<span class="sd">        Note that both Apertures and Doors are checked for duplicates since the two</span>
<span class="sd">        are counted together by EnergyPlus.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sub_faces</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apertures</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">doors</span>
        <span class="k">return</span> <span class="n">check_duplicate_identifiers</span><span class="p">(</span><span class="n">sub_faces</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">,</span> <span class="s1">&#39;sub-face&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.check_missing_adjacencies"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.check_missing_adjacencies">[docs]</a>    <span class="k">def</span> <span class="nf">check_missing_adjacencies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check that all Faces Apertures, and Doors have adjacent objects in the model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">face_bc_ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ap_bc_ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">door_bc_ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">_faces</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">boundary_condition</span><span class="p">,</span> <span class="n">Surface</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_self_adj_check</span><span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">face_bc_ids</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">apertures</span><span class="p">:</span>
                        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">boundary_condition</span><span class="p">,</span> <span class="n">Surface</span><span class="p">),</span> \
                            <span class="s1">&#39;Aperture &quot;</span><span class="si">{}</span><span class="s1">&quot; must have Surface boundary condition &#39;</span> \
                            <span class="s1">&#39;if the parent Face has a Surface BC.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_self_adj_check</span><span class="p">(</span><span class="n">ap</span><span class="p">,</span> <span class="n">ap_bc_ids</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">doors</span><span class="p">:</span>
                        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dr</span><span class="o">.</span><span class="n">boundary_condition</span><span class="p">,</span> <span class="n">Surface</span><span class="p">),</span> \
                            <span class="s1">&#39;Door &quot;</span><span class="si">{}</span><span class="s1">&quot; must have Surface boundary condition &#39;</span> \
                            <span class="s1">&#39;if the parent Face has a Surface BC.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dr</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_self_adj_check</span><span class="p">(</span><span class="n">dr</span><span class="p">,</span> <span class="n">door_bc_ids</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_missing_adj_check</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">faces_by_identifier</span><span class="p">,</span> <span class="n">face_bc_ids</span><span class="p">,</span> <span class="s1">&#39;Face&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_missing_adj_check</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apertures_by_identifier</span><span class="p">,</span> <span class="n">ap_bc_ids</span><span class="p">,</span> <span class="s1">&#39;Aperture&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_missing_adj_check</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">doors_by_identifier</span><span class="p">,</span> <span class="n">door_bc_ids</span><span class="p">,</span> <span class="s1">&#39;Door&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Model.check_all_air_boundaries_adjacent"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.check_all_air_boundaries_adjacent">[docs]</a>    <span class="k">def</span> <span class="nf">check_all_air_boundaries_adjacent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check that all Faces with the AirBoundary type are adjacent to other Faces.</span>

<span class="sd">        This is a requirement for energy simulation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">AirBoundary</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> \
                    <span class="nb">isinstance</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">boundary_condition</span><span class="p">,</span> <span class="n">Surface</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">raise_exception</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Face &quot;</span><span class="si">{}</span><span class="s1">&quot; is an AirBoundary but is not adjacent &#39;</span>
                                     <span class="s1">&#39;to another Face.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">display_name</span><span class="p">))</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Model.check_rooms_solid"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.check_rooms_solid">[docs]</a>    <span class="k">def</span> <span class="nf">check_rooms_solid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check whether the Model&#39;s rooms are closed solid to within tolerances.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: tolerance: The maximum difference between x, y, and z values</span>
<span class="sd">                at which face vertices are considered equivalent. Default: 0.01,</span>
<span class="sd">                suitable for objects in meters.</span>
<span class="sd">            angle_tolerance: The max angle difference in degrees that vertices are</span>
<span class="sd">                allowed to differ from one another in order to consider them colinear.</span>
<span class="sd">                Default: 1 degree.</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if the room geometry does not form a closed solid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">room</span><span class="o">.</span><span class="n">check_solid</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Model.check_sub_faces_valid"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.check_sub_faces_valid">[docs]</a>    <span class="k">def</span> <span class="nf">check_sub_faces_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                              <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check that model&#39;s sub-faces are co-planar with faces and in the face boundary.</span>

<span class="sd">        Note this does not check the planarity of the sub-faces themselves, whether</span>
<span class="sd">        they self-intersect, or whether they have a non-zero area.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum difference between the coordinate values of two</span>
<span class="sd">                vertices at which they can be considered equivalent. Default: 0.01,</span>
<span class="sd">                suitable for objects in meters.</span>
<span class="sd">            angle_tolerance: The max angle in degrees that the plane normals can</span>
<span class="sd">                differ from one another in order for them to be considered coplanar.</span>
<span class="sd">                Default: 1 degree.</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if an sub-face is not valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">rm</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">rm</span><span class="o">.</span><span class="n">check_sub_faces_valid</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">f</span><span class="o">.</span><span class="n">check_sub_faces_valid</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Model.check_planar"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.check_planar">[docs]</a>    <span class="k">def</span> <span class="nf">check_planar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check that all of the Model&#39;s geometry components are planar.</span>

<span class="sd">        This includes all of the Model&#39;s Faces, Apertures, Doors and Shades.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum distance between a given vertex and a the</span>
<span class="sd">                object&#39;s plane at which the vertex is said to lie in the plane.</span>
<span class="sd">            raise_exception: Boolean to note whether an ValueError should be</span>
<span class="sd">                raised if a vertex does not lie within the object&#39;s plane.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">face</span><span class="o">.</span><span class="n">check_planar</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">shd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">shades</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">shd</span><span class="o">.</span><span class="n">check_planar</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">apertures</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ap</span><span class="o">.</span><span class="n">check_planar</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">doors</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">dr</span><span class="o">.</span><span class="n">check_planar</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Model.check_self_intersecting"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.check_self_intersecting">[docs]</a>    <span class="k">def</span> <span class="nf">check_self_intersecting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check that no edges of the Model&#39;s geometry components self-intersect.</span>

<span class="sd">        This includes all of the Model&#39;s Faces, Apertures, Doors and Shades.</span>

<span class="sd">        Args:</span>
<span class="sd">            raise_exception: If True, a ValueError will be raised if an object</span>
<span class="sd">                intersects with itself (like a bowtie). Default: True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">face</span><span class="o">.</span><span class="n">check_self_intersecting</span><span class="p">(</span><span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">shd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">shades</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">shd</span><span class="o">.</span><span class="n">check_self_intersecting</span><span class="p">(</span><span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">apertures</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ap</span><span class="o">.</span><span class="n">check_self_intersecting</span><span class="p">(</span><span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">doors</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">dr</span><span class="o">.</span><span class="n">check_self_intersecting</span><span class="p">(</span><span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Model.check_non_zero"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.check_non_zero">[docs]</a>    <span class="k">def</span> <span class="nf">check_non_zero</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check that the Model&#39;s geometry components are above a &quot;zero&quot; area tolerance.</span>

<span class="sd">        This includes all of the Model&#39;s Faces, Apertures, Doors and Shades.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum acceptable area of the object. Default is 0.0001,</span>
<span class="sd">                which is equal to 1 cm2 when model units are meters. This is just</span>
<span class="sd">                above the smallest size that OpenStudio will accept.</span>
<span class="sd">            raise_exception: If True, a ValueError will be raised if the object</span>
<span class="sd">                area is below the tolerance. Default: True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">face</span><span class="o">.</span><span class="n">check_non_zero</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">shd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">shades</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">shd</span><span class="o">.</span><span class="n">check_non_zero</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">apertures</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ap</span><span class="o">.</span><span class="n">check_non_zero</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">doors</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">dr</span><span class="o">.</span><span class="n">check_non_zero</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Model.triangulated_apertures"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.triangulated_apertures">[docs]</a>    <span class="k">def</span> <span class="nf">triangulated_apertures</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get triangulated versions of the model Apertures that have more than 4 sides.</span>

<span class="sd">        This is necessary for energy simulation since EnergyPlus cannot accept</span>
<span class="sd">        sub-faces with more than 4 sides. Note that this method does not alter the</span>
<span class="sd">        Apertures within the Model object but just returns a list of modified</span>
<span class="sd">        Apertures that all have 3 or 4 sides.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple with two elements</span>

<span class="sd">            -   triangulated_apertures: A list of lists where each list is a set of</span>
<span class="sd">                triangle Apertures meant to replace an Aperture with more than</span>
<span class="sd">                4 sides in the model.</span>

<span class="sd">            -   parents_to_edit: An list of lists that parellels the triangulated</span>
<span class="sd">                aperturesin that each item represents an Aperture that has been</span>
<span class="sd">                triangulated in the model. However, each of these lists holds between</span>
<span class="sd">                1 and 3 values for the identifiers of the original aperture and parents</span>
<span class="sd">                of the aperture. This information is intended to help edit parent</span>
<span class="sd">                faces that have had their child faces triangulated. The 3 values</span>
<span class="sd">                are as follows:</span>

<span class="sd">                * 0 = The identifier of the original Aperture that was triangulated.</span>
<span class="sd">                * 1 = The identifier of the parent Face of the original Aperture</span>
<span class="sd">                  (if it exists).</span>
<span class="sd">                * 2 = The identifier of the parent Room of the parent Face of the</span>
<span class="sd">                  original Aperture (if it exists).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">triangulated_apertures</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">parents_to_edit</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">all_apertures</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apertures</span>
        <span class="n">adj_check</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># confirms when interior apertures are triangulated by adjacency</span>
        <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="n">all_apertures</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">geometry</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="n">ap</span><span class="o">.</span><span class="n">identifier</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">adj_check</span><span class="p">:</span>
                <span class="c1"># generate the new triangulated apertures</span>
                <span class="n">ap_mesh3d</span> <span class="o">=</span> <span class="n">ap</span><span class="o">.</span><span class="n">triangulated_mesh3d</span>
                <span class="n">new_verts</span> <span class="o">=</span> <span class="p">[[</span><span class="n">ap_mesh3d</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">face</span><span class="p">]</span> <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">ap_mesh3d</span><span class="o">.</span><span class="n">faces</span><span class="p">]</span>
                <span class="n">new_ap_geo</span> <span class="o">=</span> <span class="p">[</span><span class="n">Face3D</span><span class="p">(</span><span class="n">verts</span><span class="p">,</span> <span class="n">ap</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">plane</span><span class="p">)</span> <span class="k">for</span> <span class="n">verts</span> <span class="ow">in</span> <span class="n">new_verts</span><span class="p">]</span>
                <span class="n">new_aps</span><span class="p">,</span> <span class="n">parent_edit_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_replace_aperture</span><span class="p">(</span><span class="n">ap</span><span class="p">,</span> <span class="n">new_ap_geo</span><span class="p">)</span>
                <span class="n">triangulated_apertures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_aps</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">parent_edit_info</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">parents_to_edit</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parent_edit_info</span><span class="p">)</span>
                <span class="c1"># coordinate new apertures with any adjacent apertures</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ap</span><span class="o">.</span><span class="n">boundary_condition</span><span class="p">,</span> <span class="n">Surface</span><span class="p">):</span>
                    <span class="n">bc_obj_identifier</span> <span class="o">=</span> <span class="n">ap</span><span class="o">.</span><span class="n">boundary_condition</span><span class="o">.</span><span class="n">boundary_condition_object</span>
                    <span class="k">for</span> <span class="n">other_ap</span> <span class="ow">in</span> <span class="n">all_apertures</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">other_ap</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">bc_obj_identifier</span><span class="p">:</span>
                            <span class="n">adj_ap</span> <span class="o">=</span> <span class="n">other_ap</span>
                            <span class="k">break</span>
                    <span class="n">new_adj_ap_geo</span> <span class="o">=</span> <span class="p">[</span><span class="n">face</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span> <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">new_ap_geo</span><span class="p">]</span>
                    <span class="n">new_adj_aps</span><span class="p">,</span> <span class="n">edit_in</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_replace_aperture</span><span class="p">(</span><span class="n">adj_ap</span><span class="p">,</span> <span class="n">new_adj_ap_geo</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">new_ap</span><span class="p">,</span> <span class="n">new_adj_ap</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">new_aps</span><span class="p">,</span> <span class="n">new_adj_aps</span><span class="p">):</span>
                        <span class="n">new_ap</span><span class="o">.</span><span class="n">set_adjacency</span><span class="p">(</span><span class="n">new_adj_ap</span><span class="p">)</span>
                    <span class="n">triangulated_apertures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_adj_aps</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">edit_in</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">parents_to_edit</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">edit_in</span><span class="p">)</span>
                    <span class="n">adj_check</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">adj_ap</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">triangulated_apertures</span><span class="p">,</span> <span class="n">parents_to_edit</span></div>

<div class="viewcode-block" id="Model.triangulated_doors"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.triangulated_doors">[docs]</a>    <span class="k">def</span> <span class="nf">triangulated_doors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get triangulated versions of the model Doors that have more than 4 sides.</span>

<span class="sd">        This is necessary for energy simulation since EnergyPlus cannot accept</span>
<span class="sd">        sub-faces with more than 4 sides. Note that this method does not alter the</span>
<span class="sd">        Doors within the Model object but just returns a list of Doors that</span>
<span class="sd">        all have 3 or 4 sides.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple with two elements</span>

<span class="sd">            -   triangulated_doors: A list of lists where each list is a set of triangle</span>
<span class="sd">                Doors meant to replace a Door with more than 4 sides in the model.</span>

<span class="sd">            -   parents_to_edit: An list of lists that parellels the triangulated_doors</span>
<span class="sd">                in that each item represents a Door that has been triangulated</span>
<span class="sd">                in the model. However, each of these lists holds between 1 and 3 values</span>
<span class="sd">                for the identifiers of the original door and parents of the door.</span>
<span class="sd">                This information is intended to help edit parent faces that have had</span>
<span class="sd">                their child faces triangulated. The 3 values are as follows:</span>

<span class="sd">                * 0 = The identifier of the original Door that was triangulated.</span>
<span class="sd">                * 1 = The identifier of the parent Face of the original Door</span>
<span class="sd">                  (if it exists).</span>
<span class="sd">                * 2 = The identifier of the parent Room of the parent Face of the</span>
<span class="sd">                  original Door (if it exists).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">triangulated_doors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">parents_to_edit</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">all_doors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">doors</span>
        <span class="n">adj_check</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># confirms when interior doors are triangulated by adjacency</span>
        <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">all_doors</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dr</span><span class="o">.</span><span class="n">geometry</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="n">dr</span><span class="o">.</span><span class="n">identifier</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">adj_check</span><span class="p">:</span>
                <span class="c1"># generate the new triangulated doors</span>
                <span class="n">dr_mesh3d</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">triangulated_mesh3d</span>
                <span class="n">new_verts</span> <span class="o">=</span> <span class="p">[[</span><span class="n">dr_mesh3d</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">face</span><span class="p">]</span> <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">dr_mesh3d</span><span class="o">.</span><span class="n">faces</span><span class="p">]</span>
                <span class="n">new_dr_geo</span> <span class="o">=</span> <span class="p">[</span><span class="n">Face3D</span><span class="p">(</span><span class="n">verts</span><span class="p">,</span> <span class="n">dr</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">plane</span><span class="p">)</span> <span class="k">for</span> <span class="n">verts</span> <span class="ow">in</span> <span class="n">new_verts</span><span class="p">]</span>
                <span class="n">new_drs</span><span class="p">,</span> <span class="n">parent_edit_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_replace_door</span><span class="p">(</span><span class="n">dr</span><span class="p">,</span> <span class="n">new_dr_geo</span><span class="p">)</span>
                <span class="n">triangulated_doors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_drs</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">parent_edit_info</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">parents_to_edit</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parent_edit_info</span><span class="p">)</span>
                <span class="c1"># coordinate new doors with any adjacent doors</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dr</span><span class="o">.</span><span class="n">boundary_condition</span><span class="p">,</span> <span class="n">Surface</span><span class="p">):</span>
                    <span class="n">bc_obj_identifier</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">boundary_condition</span><span class="o">.</span><span class="n">boundary_condition_object</span>
                    <span class="k">for</span> <span class="n">other_dr</span> <span class="ow">in</span> <span class="n">all_doors</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">other_dr</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">bc_obj_identifier</span><span class="p">:</span>
                            <span class="n">adj_dr</span> <span class="o">=</span> <span class="n">other_dr</span>
                            <span class="k">break</span>
                    <span class="n">new_adj_dr_geo</span> <span class="o">=</span> <span class="p">[</span><span class="n">face</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span> <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">new_dr_geo</span><span class="p">]</span>
                    <span class="n">new_adj_drs</span><span class="p">,</span> <span class="n">edit_in</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_replace_door</span><span class="p">(</span><span class="n">adj_dr</span><span class="p">,</span> <span class="n">new_adj_dr_geo</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">new_dr</span><span class="p">,</span> <span class="n">new_adj_dr</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">new_drs</span><span class="p">,</span> <span class="n">new_adj_drs</span><span class="p">):</span>
                        <span class="n">new_dr</span><span class="o">.</span><span class="n">set_adjacency</span><span class="p">(</span><span class="n">new_adj_dr</span><span class="p">)</span>
                    <span class="n">triangulated_doors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_adj_drs</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">edit_in</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">parents_to_edit</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">edit_in</span><span class="p">)</span>
                    <span class="n">adj_check</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">adj_dr</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">triangulated_doors</span><span class="p">,</span> <span class="n">parents_to_edit</span></div>

    <span class="k">def</span> <span class="nf">_replace_aperture</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">original_ap</span><span class="p">,</span> <span class="n">new_ap_geo</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get new Apertures generated from new_ap_geo and the properties of original_ap.</span>

<span class="sd">        Note that this method does not re-link the new apertures to new adjacent</span>
<span class="sd">        apertures in the model. This must be done with the returned apertures.</span>

<span class="sd">        Args:</span>
<span class="sd">            original_ap: The original Aperture object from which properties</span>
<span class="sd">                are borrowed.</span>
<span class="sd">            new_ap_geo: A list of ladybug_geometry Face3D objects that will be used</span>
<span class="sd">                to generate the new Aperture objects.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple with two elements</span>

<span class="sd">            -   new_aps: A list of the new Aperture objects.</span>

<span class="sd">            -   parent_edit_info: An array of up to 3 values meant to help edit</span>
<span class="sd">                parents that have had their child faces triangulated. The 3 values</span>
<span class="sd">                are as follows:</span>

<span class="sd">                * 0 = The identifier of the original Aperture that was triangulated.</span>
<span class="sd">                * 1 = The identifier of the parent Face of the original Aperture</span>
<span class="sd">                  (if it exists).</span>
<span class="sd">                * 2 = The identifier of the parent Room of the parent Face of the</span>
<span class="sd">                  original Aperture (if it exists).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># make the new Apertures and add them to the model</span>
        <span class="n">new_aps</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">ap_face</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">new_ap_geo</span><span class="p">):</span>
            <span class="n">new_ap</span> <span class="o">=</span> <span class="n">Aperture</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">..</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">original_ap</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span>
                              <span class="n">ap_face</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">original_ap</span><span class="o">.</span><span class="n">is_operable</span><span class="p">)</span>
            <span class="n">new_ap</span><span class="o">.</span><span class="n">_properties</span> <span class="o">=</span> <span class="n">original_ap</span><span class="o">.</span><span class="n">_properties</span>  <span class="c1"># transfer extension properties</span>
            <span class="k">if</span> <span class="n">original_ap</span><span class="o">.</span><span class="n">has_parent</span><span class="p">:</span>
                <span class="n">new_ap</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">original_ap</span><span class="o">.</span><span class="n">parent</span>
            <span class="n">new_aps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_ap</span><span class="p">)</span>

        <span class="c1"># transfer over any child shades to the first triangulated object</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">original_ap</span><span class="o">.</span><span class="n">_indoor_shades</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">new_shds</span> <span class="o">=</span> <span class="p">[</span><span class="n">shd</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span> <span class="k">for</span> <span class="n">shd</span> <span class="ow">in</span> <span class="n">original_ap</span><span class="o">.</span><span class="n">_indoor_shades</span><span class="p">]</span>
            <span class="n">new_aps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">add_indoor_shades</span><span class="p">(</span><span class="n">new_shds</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">original_ap</span><span class="o">.</span><span class="n">_outdoor_shades</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">new_shds</span> <span class="o">=</span> <span class="p">[</span><span class="n">shd</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span> <span class="k">for</span> <span class="n">shd</span> <span class="ow">in</span> <span class="n">original_ap</span><span class="o">.</span><span class="n">_outdoor_shades</span><span class="p">]</span>
            <span class="n">new_aps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">add_outdoor_shades</span><span class="p">(</span><span class="n">new_shds</span><span class="p">)</span>

        <span class="c1"># create the parent edit info</span>
        <span class="n">parent_edit_info</span> <span class="o">=</span> <span class="p">[</span><span class="n">original_ap</span><span class="o">.</span><span class="n">identifier</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">original_ap</span><span class="o">.</span><span class="n">has_parent</span><span class="p">:</span>
            <span class="n">parent_edit_info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">original_ap</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">original_ap</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">has_parent</span><span class="p">:</span>
                <span class="n">parent_edit_info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">original_ap</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_aps</span><span class="p">,</span> <span class="n">parent_edit_info</span>

    <span class="k">def</span> <span class="nf">_replace_door</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">original_dr</span><span class="p">,</span> <span class="n">new_dr_geo</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get new Doors generated from new_dr_geo and the properties of original_dr.</span>

<span class="sd">        Note that this method does not re-link the new doors to new adjacent</span>
<span class="sd">        doors in the model. This must be done with the returned doors.</span>

<span class="sd">        Args:</span>
<span class="sd">            original_dr: The original Door object from which properties</span>
<span class="sd">                are borrowed.</span>
<span class="sd">            new_dr_geo: A list of ladybug_geometry Face3D objects that will be used</span>
<span class="sd">                to generate the new Door objects.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple with four elements</span>

<span class="sd">            -   new_drs: A list of the new Door objects.</span>

<span class="sd">            -   parent_edit_info: An array of up to 3 values meant to help edit</span>
<span class="sd">                parents that have had their child faces triangulated. The 3 values</span>
<span class="sd">                are as follows:</span>

<span class="sd">                * 0 = The identifier of the original Door that was triangulated.</span>
<span class="sd">                * 1 = The identifier of the parent Face of the original Door</span>
<span class="sd">                  (if it exists).</span>
<span class="sd">                * 2 = The identifier of the parent Room of the parent Face of the</span>
<span class="sd">                  original Door (if it exists).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># make the new doors and add them to the model</span>
        <span class="n">new_drs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">dr_face</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">new_dr_geo</span><span class="p">):</span>
            <span class="n">new_dr</span> <span class="o">=</span> <span class="n">Door</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">..</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">original_dr</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span> <span class="n">dr_face</span><span class="p">)</span>
            <span class="n">new_dr</span><span class="o">.</span><span class="n">_properties</span> <span class="o">=</span> <span class="n">original_dr</span><span class="o">.</span><span class="n">_properties</span>  <span class="c1"># transfer extension properties</span>
            <span class="k">if</span> <span class="n">original_dr</span><span class="o">.</span><span class="n">has_parent</span><span class="p">:</span>
                <span class="n">new_dr</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">original_dr</span><span class="o">.</span><span class="n">parent</span>
            <span class="n">new_drs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_dr</span><span class="p">)</span>

        <span class="c1"># transfer over any child shades to the first triangulated object</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">original_dr</span><span class="o">.</span><span class="n">_indoor_shades</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">new_shds</span> <span class="o">=</span> <span class="p">[</span><span class="n">shd</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span> <span class="k">for</span> <span class="n">shd</span> <span class="ow">in</span> <span class="n">original_dr</span><span class="o">.</span><span class="n">_indoor_shades</span><span class="p">]</span>
            <span class="n">new_drs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">add_indoor_shades</span><span class="p">(</span><span class="n">new_shds</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">original_dr</span><span class="o">.</span><span class="n">_outdoor_shades</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">new_shds</span> <span class="o">=</span> <span class="p">[</span><span class="n">shd</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span> <span class="k">for</span> <span class="n">shd</span> <span class="ow">in</span> <span class="n">original_dr</span><span class="o">.</span><span class="n">_outdoor_shades</span><span class="p">]</span>
            <span class="n">new_drs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">add_outdoor_shades</span><span class="p">(</span><span class="n">new_shds</span><span class="p">)</span>

        <span class="c1"># create the parent edit info</span>
        <span class="n">parent_edit_info</span> <span class="o">=</span> <span class="p">[</span><span class="n">original_dr</span><span class="o">.</span><span class="n">identifier</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">original_dr</span><span class="o">.</span><span class="n">has_parent</span><span class="p">:</span>
            <span class="n">parent_edit_info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">original_dr</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">original_dr</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">has_parent</span><span class="p">:</span>
                <span class="n">parent_edit_info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">original_dr</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_drs</span><span class="p">,</span> <span class="n">parent_edit_info</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">to</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Model writer object.</span>

<span class="sd">        Use this method to access Writer class to write the model in other formats.</span>

<span class="sd">        Usage:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            model.to.idf(model) -&gt; idf string.</span>
<span class="sd">            model.to.radiance(model) -&gt; Radiance string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">writer</span>

<div class="viewcode-block" id="Model.to_dict"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.to_dict">[docs]</a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">included_prop</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">triangulate_sub_faces</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return Model as a dictionary.</span>

<span class="sd">        Args:</span>
<span class="sd">            included_prop: List of properties to filter keys that must be included in</span>
<span class="sd">                output dictionary. For example [&#39;energy&#39;] will include &#39;energy&#39; key if</span>
<span class="sd">                available in properties to_dict. By default all the keys will be</span>
<span class="sd">                included. To exclude all the keys from extensions use an empty list.</span>
<span class="sd">            triangulate_sub_faces: Boolean to note whether sub-faces (including</span>
<span class="sd">                Apertures and Doors) should be triangulated if they have more than</span>
<span class="sd">                4 sides (True) or whether they should be left as they are (False).</span>
<span class="sd">                This triangulation is necessary when exporting directly to EnergyPlus</span>
<span class="sd">                since it cannot accept sub-faces with more than 4 vertices. Note that</span>
<span class="sd">                setting this to True will only triangulate sub-faces with parent Faces</span>
<span class="sd">                that also have parent Rooms since orphaned Apertures and Faces are</span>
<span class="sd">                not relevant for energy simulation. Default: False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># write all of the geometry objects and their properties</span>
        <span class="n">base</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">}</span>
        <span class="n">base</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span>
        <span class="n">base</span><span class="p">[</span><span class="s1">&#39;display_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_name</span>
        <span class="n">base</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span>
        <span class="n">base</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">included_prop</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;rooms&#39;</span><span class="p">]</span> <span class="o">=</span> \
                <span class="p">[</span><span class="n">r</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">included_prop</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;orphaned_faces&#39;</span><span class="p">]</span> <span class="o">=</span> \
                <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">included_prop</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;orphaned_shades&#39;</span><span class="p">]</span> <span class="o">=</span> \
                <span class="p">[</span><span class="n">shd</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">included_prop</span><span class="p">)</span> <span class="k">for</span> <span class="n">shd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;orphaned_apertures&#39;</span><span class="p">]</span> <span class="o">=</span> \
                <span class="p">[</span><span class="n">ap</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">included_prop</span><span class="p">)</span> <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;orphaned_doors&#39;</span><span class="p">]</span> <span class="o">=</span> \
                <span class="p">[</span><span class="n">dr</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">included_prop</span><span class="p">)</span> <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;tolerance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;angle_tolerance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span>

        <span class="c1"># triangulate sub-faces if this was requested</span>
        <span class="k">if</span> <span class="n">triangulate_sub_faces</span><span class="p">:</span>
            <span class="n">apertures</span><span class="p">,</span> <span class="n">parents_to_edit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">triangulated_apertures</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">tri_aps</span><span class="p">,</span> <span class="n">edit_infos</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">apertures</span><span class="p">,</span> <span class="n">parents_to_edit</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">edit_infos</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">base</span><span class="p">[</span><span class="s1">&#39;rooms&#39;</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">room</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">edit_infos</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
                            <span class="k">break</span>
                    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="p">[</span><span class="s1">&#39;faces&#39;</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">face</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">edit_infos</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                            <span class="k">break</span>
                    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">ap</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">face</span><span class="p">[</span><span class="s1">&#39;apertures&#39;</span><span class="p">]):</span>
                        <span class="k">if</span> <span class="n">ap</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">edit_infos</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                            <span class="k">break</span>
                    <span class="k">del</span> <span class="n">face</span><span class="p">[</span><span class="s1">&#39;apertures&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">face</span><span class="p">[</span><span class="s1">&#39;apertures&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                        <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">included_prop</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">tri_aps</span><span class="p">])</span>
            <span class="n">doors</span><span class="p">,</span> <span class="n">parents_to_edit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">triangulated_doors</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">tri_drs</span><span class="p">,</span> <span class="n">edit_infos</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">doors</span><span class="p">,</span> <span class="n">parents_to_edit</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">edit_infos</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">base</span><span class="p">[</span><span class="s1">&#39;rooms&#39;</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">room</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">edit_infos</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
                            <span class="k">break</span>
                    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="p">[</span><span class="s1">&#39;faces&#39;</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">face</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">edit_infos</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                            <span class="k">break</span>
                    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">ap</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">face</span><span class="p">[</span><span class="s1">&#39;doors&#39;</span><span class="p">]):</span>
                        <span class="k">if</span> <span class="n">ap</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">edit_infos</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                            <span class="k">break</span>
                    <span class="k">del</span> <span class="n">face</span><span class="p">[</span><span class="s1">&#39;doors&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">face</span><span class="p">[</span><span class="s1">&#39;doors&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                        <span class="p">[</span><span class="n">dr</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">included_prop</span><span class="p">)</span> <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">tri_drs</span><span class="p">])</span>

        <span class="c1"># write in the optional keys if they are not None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;user_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span>
        <span class="k">if</span> <span class="n">folders</span><span class="o">.</span><span class="n">honeybee_schema_version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;version&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">folders</span><span class="o">.</span><span class="n">honeybee_schema_version_str</span>

        <span class="k">return</span> <span class="n">base</span></div>

<div class="viewcode-block" id="Model.to_hbjson"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.to_hbjson">[docs]</a>    <span class="k">def</span> <span class="nf">to_hbjson</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;unnamed&quot;</span><span class="p">,</span> <span class="n">folder_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                  <span class="n">included_prop</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">triangulate_sub_faces</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Writes a Honeybee model to HBJSON.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: A text string that will be the name of the HBJSON.</span>
<span class="sd">                Defaults to &quot;unnamed&quot; for the file name for HBJSON.</span>
<span class="sd">            folder_path: A text string of path to folder where HBJSON will be written.</span>
<span class="sd">                Defaults to None. If folder_path is not specified, the default simulation</span>
<span class="sd">                folder will be used to write the HBJSON. This default simulation folder</span>
<span class="sd">                is at &quot;C:\\Users\\USERNAME\\simulation.&quot;</span>
<span class="sd">            indent: A positive integer to set the indentation used in the</span>
<span class="sd">                resulting HBJSON file. If 0, the JSON will be a single line.</span>
<span class="sd">                Defaults to 0.</span>
<span class="sd">            included_prop: List of properties to filter keys that must be included in</span>
<span class="sd">                output dictionary. For example [&#39;energy&#39;] will include &#39;energy&#39; key if</span>
<span class="sd">                available in properties to_dict. By default all the keys will be</span>
<span class="sd">                included. To exclude all the keys from extensions use an empty list.</span>
<span class="sd">            triangulate_sub_faces: Boolean to note whether sub-faces (including</span>
<span class="sd">                Apertures and Doors) should be triangulated if they have more than</span>
<span class="sd">                4 sides (True) or whether they should be left as they are (False).</span>
<span class="sd">                This triangulation is necessary when exporting directly to EnergyPlus</span>
<span class="sd">                since it cannot accept sub-faces with more than 4 vertices. Note that</span>
<span class="sd">                setting this to True will only triangulate sub-faces with parent Faces</span>
<span class="sd">                that also have parent Rooms since orphaned Apertures and Faces are</span>
<span class="sd">                not relevant for energy simulation. Default: False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Create dictionary from the Honeybee Model</span>
        <span class="n">hb_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">included_prop</span><span class="o">=</span><span class="n">included_prop</span><span class="p">,</span>
                               <span class="n">triangulate_sub_faces</span><span class="o">=</span><span class="n">triangulate_sub_faces</span><span class="p">)</span>

        <span class="c1"># Setting up a name for the HBJSON</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="n">name</span> <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.hbjson&#39;</span><span class="p">)</span> <span class="ow">or</span> \
            <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.json&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">.hbjson&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

        <span class="c1"># Folder path</span>
        <span class="n">folder</span> <span class="o">=</span> <span class="n">folder_path</span> <span class="k">if</span> <span class="n">folder_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> \
            <span class="k">else</span> <span class="n">folders</span><span class="o">.</span><span class="n">default_simulation_folder</span>
        <span class="n">hb_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>

        <span class="c1"># write HBJSON</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">hb_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">hb_dict</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span></div>

<div class="viewcode-block" id="Model.conversion_factor_to_meters"><a class="viewcode-back" href="../../honeybee.model.html#honeybee.model.Model.conversion_factor_to_meters">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">conversion_factor_to_meters</span><span class="p">(</span><span class="n">units</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the conversion factor to meters based on input units.</span>

<span class="sd">        Args:</span>
<span class="sd">            units: Text for the units. Choose from the following:</span>

<span class="sd">                * Meters</span>
<span class="sd">                * Millimeters</span>
<span class="sd">                * Feet</span>
<span class="sd">                * Inches</span>
<span class="sd">                * Centimeters</span>

<span class="sd">        Returns:</span>
<span class="sd">            A number for the conversion factor, which should be multiplied by</span>
<span class="sd">            all distance units taken from Rhino geometry in order to convert</span>
<span class="sd">            them to meters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">units</span> <span class="o">==</span> <span class="s1">&#39;Meters&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">1.0</span>
        <span class="k">elif</span> <span class="n">units</span> <span class="o">==</span> <span class="s1">&#39;Millimeters&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">0.001</span>
        <span class="k">elif</span> <span class="n">units</span> <span class="o">==</span> <span class="s1">&#39;Feet&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">0.305</span>
        <span class="k">elif</span> <span class="n">units</span> <span class="o">==</span> <span class="s1">&#39;Inches&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">0.0254</span>
        <span class="k">elif</span> <span class="n">units</span> <span class="o">==</span> <span class="s1">&#39;Centimeters&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">0.01</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;You&#39;re kidding me! What units are you using?&quot;</span> <span class="o">+</span> <span class="n">units</span> <span class="o">+</span> <span class="s2">&quot;?</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Please use Meters, Millimeters, Centimeters, Feet or Inches.&quot;</span><span class="p">)</span></div>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_self_adj_check</span><span class="p">(</span><span class="n">hb_obj</span><span class="p">,</span> <span class="n">bc_ids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check that an adjacent object is referencing itself.&quot;&quot;&quot;</span>
        <span class="n">bc_obj</span> <span class="o">=</span> <span class="n">hb_obj</span><span class="o">.</span><span class="n">boundary_condition</span><span class="o">.</span><span class="n">boundary_condition_object</span>
        <span class="n">bc_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bc_obj</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">hb_obj</span><span class="o">.</span><span class="n">identifier</span> <span class="o">!=</span> <span class="n">bc_obj</span><span class="p">,</span> <span class="s1">&#39;&quot;</span><span class="si">{}</span><span class="s1">&quot; cannot reference &#39;</span> \
            <span class="s1">&#39;itself in its Surface boundary condition.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bc_obj</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_missing_adj_check</span><span class="p">(</span><span class="n">id_checking_function</span><span class="p">,</span> <span class="n">bc_ids</span><span class="p">,</span> <span class="n">obj_name</span><span class="o">=</span><span class="s1">&#39;Face&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check whether adjacencies are missing from a model.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">id_checking_function</span><span class="p">(</span><span class="n">bc_ids</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;A </span><span class="si">{}</span><span class="s1"> has an adjacent object that is missing &#39;</span>
                             <span class="s1">&#39;from the model:</span><span class="se">\n</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj_name</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">new_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span>
        <span class="n">new_model</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_model</span>

    <span class="k">def</span> <span class="fm">__iadd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__copy__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">new_model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span>
            <span class="p">[</span><span class="n">room</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span> <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rooms</span><span class="p">],</span>
            <span class="p">[</span><span class="n">face</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span> <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_faces</span><span class="p">],</span>
            <span class="p">[</span><span class="n">shade</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span> <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_shades</span><span class="p">],</span>
            <span class="p">[</span><span class="n">aperture</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span> <span class="k">for</span> <span class="n">aperture</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_apertures</span><span class="p">],</span>
            <span class="p">[</span><span class="n">door</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span> <span class="k">for</span> <span class="n">door</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orphaned_doors</span><span class="p">],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span><span class="p">)</span>
        <span class="n">new_model</span><span class="o">.</span><span class="n">_display_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_name</span>
        <span class="n">new_model</span><span class="o">.</span><span class="n">_user_data</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">new_model</span><span class="o">.</span><span class="n">_properties</span><span class="o">.</span><span class="n">_duplicate_extension_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_model</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Model: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_name</span></div>
</pre></div>

    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Ladybug Tools.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>